:root {
  color-scheme: light;
  --brand-50: #f2f7ff;
  --brand-100: #e5efff;
  --brand-200: #c9ddff;
  --brand-300: #a0c4ff;
  --brand-400: #6d9dff;
  --brand-500: #3d6cff;
  --brand-600: #1f4fe0;
  --brand-700: #1539ad;
  --brand-800: #112c84;
  --brand-900: #0e2366;
  --accent-400: #ff8a5c;
  --accent-500: #ff7043;
  --accent-600: #f85d30;
  --success-500: #0f9d58;
  --danger-500: #d93025;
  --warning-500: #fbbc04;
  --neutral-50: #f7f9fc;
  --neutral-100: #eef2f8;
  --neutral-200: #dbe2ec;
  --neutral-300: #bdc8d8;
  --neutral-400: #93a3b8;
  --neutral-500: #60708c;
  --neutral-600: #445069;
  --neutral-700: #2d3648;
  --neutral-800: #1f2634;
  --neutral-900: #161b26;
  --bg-page: radial-gradient(circle at top right, rgba(61, 108, 255, 0.12), transparent 55%), var(--neutral-50);
  --bg-surface: #ffffff;
  --bg-subtle: #f1f4fb;
  --shadow-sm: 0 6px 18px rgba(15, 37, 83, 0.08);
  --shadow-md: 0 14px 36px rgba(15, 37, 83, 0.14);
  --shadow-lg: 0 20px 60px rgba(15, 37, 83, 0.16);
  --radius-sm: 10px;
  --radius-md: 18px;
  --radius-lg: 24px;
  --radius-xl: 32px;
  --col-left: 340px;
}

* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: "Inter", "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: var(--bg-page);
  color: var(--neutral-800);
  line-height: 1.55;
  min-height: 100%;
}

body {
  display: flex;
  min-height: 100vh;
}

a {
  color: inherit;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

img {
  max-width: 100%;
  display: block;
}

button {
  font-family: inherit;
}

.app-shell {
  display: flex;
  width: 100%;
  min-height: 100vh;
}

.app-sidebar {
  width: 280px;
  background: var(--bg-surface);
  border-right: 1px solid var(--neutral-100);
  box-shadow: var(--shadow-sm);
  position: fixed;
  inset: 0 auto 0 0;
  z-index: 60;
  transform: translateX(-110%);
  transition: transform 0.3s ease;
}

.app-sidebar[data-open="true"] {
  transform: translateX(0%);
}

.app-sidebar__inner {
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 28px 24px 32px;
  gap: 28px;
}

.app-sidebar__brand {
  display: flex;
  align-items: center;
  gap: 14px;
}

.app-sidebar__logo {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--neutral-100);
  padding: 8px;
  box-shadow: inset 0 0 0 1px rgba(61, 108, 255, 0.08);
}

.app-sidebar__title {
  font-size: 18px;
  font-weight: 700;
  color: var(--neutral-900);
}

.app-sidebar__subtitle {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: var(--neutral-500);
}

.app-sidebar__close {
  margin-left: auto;
  border: none;
  background: transparent;
  color: var(--neutral-500);
  font-size: 20px;
  display: none;
  cursor: pointer;
}

.app-sidebar__menu {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.app-sidebar__link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  font-weight: 600;
  color: var(--neutral-700);
  transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.app-sidebar__link:hover {
  background: var(--neutral-100);
  color: var(--neutral-900);
}

.app-sidebar__link--highlight {
  background: linear-gradient(135deg, var(--brand-500), var(--brand-600));
  color: #fff;
  box-shadow: 0 14px 32px rgba(61, 108, 255, 0.18);
}

.app-sidebar__link--ghost {
  border: 1px solid var(--neutral-200);
}

.app-sidebar__badge {
  display: inline-flex;
  align-items: center;
  padding: 2px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  background: var(--danger-500);
  color: #fff;
}

.app-main {
  flex: 1;
  margin-left: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  position: relative;
  z-index: 1;
}

.topbar {
  position: sticky;
  top: 0;
  z-index: 40;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 20px 24px;
  background: rgba(255, 255, 255, 0.82);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(205, 215, 235, 0.6);
}

.topbar__brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.topbar__title {
  font-size: 16px;
  font-weight: 700;
  color: var(--neutral-700);
}

.topbar__toggle {
  border: none;
  background: var(--bg-surface);
  border-radius: var(--radius-sm);
  padding: 10px 12px;
  font-size: 18px;
  cursor: pointer;
  box-shadow: var(--shadow-sm);
}

.topbar__actions {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.page {
  width: 100%;
  padding: 32px clamp(16px, 4vw, 48px) 56px;
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.page__header {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.page__title {
  font-size: clamp(26px, 5vw, 34px);
  font-weight: 800;
  margin: 0;
  color: var(--neutral-900);
}

.page__subtitle {
  font-size: 15px;
  color: var(--neutral-500);
  max-width: 720px;
}

.stack {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.stack--lg {
  gap: 32px;
}

.grid {
  display: grid;
  gap: 20px;
}

.grid--2 {
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.grid--3 {
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

@media (max-width: 1024px) {
  .grid--2,
  .grid--3 {
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }
}

.hero {
  position: relative;
  display: grid;
  gap: clamp(20px, 4vw, 32px);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.12), rgba(61, 108, 255, 0.02));
  border-radius: var(--radius-xl);
  padding: clamp(24px, 5vw, 40px);
  border: 1px solid rgba(61, 108, 255, 0.24);
  box-shadow: var(--shadow-md);
}

.hero__title {
  font-size: clamp(30px, 5vw, 42px);
  margin: 0;
  font-weight: 800;
  color: var(--neutral-900);
}

.hero__subtitle {
  font-size: 17px;
  color: var(--neutral-600);
  max-width: 540px;
}

.hero__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.dashboard-page {
  display: flex;
  flex-direction: column;
  gap: 36px;
}

.dashboard-hero {
  position: relative;
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(240px, 320px);
  gap: clamp(24px, 4vw, 36px);
  padding: clamp(24px, 5vw, 40px);
  border-radius: var(--radius-xl);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.22);
  box-shadow: var(--shadow-md);
  overflow: hidden;
}

@media (max-width: 900px) {
  .dashboard-hero {
    grid-template-columns: 1fr;
  }
}

.dashboard-hero__copy {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.dashboard-hero__stats {
  display: grid;
  gap: 16px;
  align-content: start;
}

.eyebrow {
  font-size: 13px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.18em;
  color: rgba(255, 255, 255, 0.84);
  background: rgba(17, 38, 120, 0.38);
  padding: 6px 12px;
  width: fit-content;
  border-radius: 999px;
}

.dashboard-hero__title {
  margin: 0;
  font-size: clamp(32px, 4.5vw, 44px);
  font-weight: 800;
  color: #fff;
  text-shadow: 0 14px 32px rgba(15, 37, 83, 0.25);
}

.dashboard-hero__subtitle {
  margin: 0;
  font-size: 16px;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.82);
  max-width: 520px;
}

.dashboard-hero__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.dashboard-hero__actions .btn {
  backdrop-filter: blur(6px);
}

.stat-card {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 22px 20px;
  border-radius: var(--radius-lg);
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(205, 215, 235, 0.4);
  box-shadow: var(--shadow-sm);
}

.stat-card--accent {
  background: linear-gradient(135deg, rgba(15, 157, 88, 0.12), rgba(15, 157, 88, 0.04));
  border-color: rgba(15, 157, 88, 0.22);
}

.stat-card__label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: var(--neutral-500);
  font-weight: 700;
}

.stat-card__value {
  font-size: 32px;
  font-weight: 800;
  color: var(--neutral-900);
}

.stat-card__hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.layout-grid {
  display: grid;
  grid-template-columns: minmax(0, 2.1fr) minmax(0, 1fr);
  gap: 28px;
}

@media (max-width: 1100px) {
  .layout-grid {
    grid-template-columns: 1fr;
  }
}

.surface-panel {
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.surface-panel--secondary {
  background: linear-gradient(180deg, rgba(242, 247, 255, 0.8), rgba(255, 255, 255, 0.9));
}

.surface-panel__header {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.surface-panel__title {
  margin: 0;
  font-size: 22px;
  font-weight: 700;
  color: var(--neutral-900);
}

.surface-panel__subtitle {
  margin: 0;
  font-size: 14px;
  color: var(--neutral-500);
}

.surface-panel__toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: flex-end;
}

.search-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.search-bar input[type="search"] {
  flex: 1;
  min-width: 220px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(205, 215, 235, 0.9);
  background: var(--neutral-50);
  font-size: 14px;
}

.search-feedback {
  font-size: 13px;
  color: var(--neutral-500);
}

.events-table table {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  background: #fff;
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.events-table thead {
  background: rgba(61, 108, 255, 0.08);
}

.events-table th,
.events-table td {
  padding: 16px 18px;
  text-align: left;
  font-size: 14px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.6);
}

.events-table tbody tr:last-child td {
  border-bottom: none;
}

.events-table__name a {
  font-weight: 600;
  color: var(--brand-600);
}

.events-table__actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.quick-action {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 18px 20px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: rgba(255, 255, 255, 0.92);
  box-shadow: var(--shadow-sm);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  text-align: left;
}

.quick-action:hover {
  transform: translateY(-3px);
  box-shadow: var(--shadow-md);
  text-decoration: none;
}

.quick-action__icon {
  font-size: 22px;
  line-height: 1;
}

.quick-action__body {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.quick-action__title {
  font-weight: 700;
  color: var(--neutral-800);
}

.quick-action__hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.slot-editor {
  display: flex;
  flex-direction: column;
  gap: 18px;
  padding: 18px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(61, 108, 255, 0.16);
  background: rgba(61, 108, 255, 0.04);
}

.slot-editor__form {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: flex-end;
}

.slot-editor__list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.slot-editor__hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.slot-chip__info {
  flex: 1;
  min-width: 200px;
  font-weight: 600;
}

.slot-chip__meta {
  font-size: 12px;
  color: var(--neutral-500);
}

.selection-toolbar {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 16px;
  margin-bottom: 16px;
}

.selection-toolbar label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-600);
}

.selection-toolbar select {
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  font-size: 14px;
}

.root-groups {
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-height: 360px;
  overflow-y: auto;
  padding-right: 4px;
}

.root-group {
  border: 1px solid rgba(205, 215, 235, 0.6);
  border-radius: var(--radius-lg);
  padding: 16px;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.root-group__title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: 700;
  font-size: 15px;
  color: var(--neutral-700);
}

.root-group__nodes {
  display: grid;
  gap: 10px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.root-chip {
  display: flex;
  align-items: stretch;
  gap: 10px;
  padding: 14px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: rgba(248, 250, 255, 0.9);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  cursor: pointer;
}

.root-chip input[type="checkbox"] {
  margin: 4px 0 0 0;
  width: 16px;
  height: 16px;
}

.root-chip__content {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.root-chip__name {
  font-weight: 600;
  color: var(--neutral-700);
}

.root-chip__meta {
  font-size: 12px;
  color: var(--neutral-500);
}

.root-chip__qty {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--neutral-500);
}

.root-chip__qty input {
  width: 72px;
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid rgba(205, 215, 235, 0.8);
  font-size: 13px;
}

.root-chip.is-checked {
  border-color: rgba(61, 108, 255, 0.36);
  box-shadow: 0 0 0 3px rgba(61, 108, 255, 0.12);
}

.wizard {
  position: fixed;
  inset: 0;
  z-index: 120;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease;
}

.wizard[data-open="true"] {
  opacity: 1;
  pointer-events: auto;
}

.wizard__backdrop {
  position: absolute;
  inset: 0;
  background: rgba(12, 22, 48, 0.55);
}

.wizard__dialog {
  position: relative;
  z-index: 2;
  width: min(960px, 100% - 32px);
  max-height: calc(100vh - 80px);
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-lg);
  display: flex;
  flex-direction: column;
}

.wizard__header {
  padding: 28px 32px 16px;
  display: flex;
  justify-content: space-between;
  gap: 18px;
}

.wizard__title {
  margin: 0;
  font-size: 24px;
  font-weight: 700;
  color: var(--neutral-900);
}

.wizard__subtitle {
  margin: 6px 0 0;
  font-size: 14px;
  color: var(--neutral-500);
}

.wizard__close {
  border: none;
  background: transparent;
  font-size: 24px;
  cursor: pointer;
  color: var(--neutral-500);
}

.wizard-steps {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  padding: 0 32px 16px;
  margin: 0;
  list-style: none;
}

.wizard-steps__item {
  position: relative;
  padding: 10px 14px;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-500);
  text-align: center;
  background: var(--neutral-100);
  border: 1px solid rgba(205, 215, 235, 0.6);
}

.wizard-steps__item[data-active="true"] {
  color: var(--brand-600);
  background: rgba(61, 108, 255, 0.12);
  border-color: rgba(61, 108, 255, 0.32);
}

.wizard-steps__item[data-complete="true"] {
  color: var(--success-500);
  border-color: rgba(15, 157, 88, 0.3);
}

.wizard__body {
  padding: 0 32px 24px;
  overflow-y: auto;
  flex: 1;
}

.wizard-step {
  display: none;
  flex-direction: column;
  gap: 18px;
}

.wizard-step[data-active="true"] {
  display: flex;
}

.wizard-step__title {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--neutral-800);
}

.wizard-step__hint {
  margin: 0;
  font-size: 14px;
  color: var(--neutral-500);
}

.wizard__footer {
  padding: 20px 32px 28px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 18px;
  border-top: 1px solid rgba(205, 215, 235, 0.6);
}

.wizard__footer-right {
  display: flex;
  gap: 10px;
}

.summary {
  display: flex;
  flex-direction: column;
  gap: 16px;
  background: var(--neutral-50);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 20px;
}

.summary__item {
  display: grid;
  grid-template-columns: 140px minmax(0, 1fr);
  gap: 12px;
  font-size: 14px;
}

.summary__label {
  font-weight: 600;
  color: var(--neutral-600);
}

.summary__value {
  color: var(--neutral-800);
}

.summary__value--list ul {
  margin: 0;
  padding-left: 18px;
  display: grid;
  gap: 6px;
}

.summary__suggestions {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(205, 215, 235, 0.5);
}

.summary__suggestion {
  font-size: 13px;
  color: var(--neutral-600);
}

body.is-modal-open {
  overflow: hidden;
}

.metric-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 16px;
}

.metric {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 20px;
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(61, 108, 255, 0.12);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.metric--highlight {
  border: 1px solid rgba(15, 157, 88, 0.18);
  background: linear-gradient(135deg, rgba(15, 157, 88, 0.08), rgba(15, 157, 88, 0.02));
}

.metric__label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: var(--neutral-500);
}

.metric__value {
  font-size: 28px;
  font-weight: 800;
  color: var(--neutral-900);
}

.metric__hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.section {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 28px;
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(205, 215, 235, 0.6);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.section--subtle {
  background: var(--bg-subtle);
  border: 1px solid rgba(61, 108, 255, 0.12);
}

.section__header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.section__title {
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  color: var(--neutral-900);
}

.section__meta {
  font-size: 14px;
  color: var(--neutral-500);
}

.section__toolbar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
}

.section__footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(61, 108, 255, 0.24);
  font-weight: 600;
  font-size: 14px;
  color: var(--neutral-700);
  background: #fff;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  background: var(--neutral-100);
}

.btn.primary {
  background: linear-gradient(135deg, var(--brand-500), var(--brand-600));
  border-color: transparent;
  color: #fff;
  box-shadow: 0 14px 32px rgba(61, 108, 255, 0.22);
}

.btn.primary:hover {
  background: linear-gradient(135deg, var(--brand-600), var(--brand-700));
}

.btn.ghost {
  border-color: rgba(205, 215, 235, 0.7);
  background: transparent;
}

.btn.danger {
  border-color: rgba(217, 48, 37, 0.2);
  color: var(--danger-500);
  background: rgba(217, 48, 37, 0.08);
}

.btn.success {
  border-color: rgba(15, 157, 88, 0.2);
  color: var(--success-500);
  background: rgba(15, 157, 88, 0.08);
}

.btn.sm {
  padding: 8px 14px;
  font-size: 13px;
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  background: var(--neutral-100);
  color: var(--neutral-600);
  border: 1px solid rgba(205, 215, 235, 0.6);
}

.badge[data-variant="warning"] {
  background: rgba(251, 188, 4, 0.16);
  color: #915600;
  border-color: rgba(251, 188, 4, 0.32);
}

.badge[data-variant="danger"] {
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
  border-color: rgba(217, 48, 37, 0.32);
}

.chip-list {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.chip {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 14px;
  border: 1px solid rgba(61, 108, 255, 0.16);
  background: rgba(61, 108, 255, 0.04);
  font-weight: 600;
  color: var(--neutral-700);
}

.chip.is-active {
  border-color: rgba(63, 167, 120, 0.3);
  background: rgba(63, 167, 120, 0.12);
  color: var(--success-500);
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.6);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.data-table th,
.data-table td {
  padding: 14px 16px;
  text-align: left;
  font-size: 14px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.45);
}

.data-table thead {
  background: var(--bg-subtle);
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.data-table tbody tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.data-table tbody tr:last-child td {
  border-bottom: none;
}

@media (max-width: 720px) {
  .data-table-wrapper {
    overflow-x: auto;
  }

  .data-table {
    min-width: 640px;
  }
}

.form-grid {
  display: grid;
  gap: 18px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.field {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.field label {
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-600);
}

input:not([type="checkbox"]):not([type="radio"]),
select,
textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  color: var(--neutral-800);
  font-size: 15px;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

input:focus,
select:focus,
textarea:focus {
  border-color: var(--brand-400);
  box-shadow: 0 0 0 4px rgba(61, 108, 255, 0.18);
  outline: none;
}

textarea {
  resize: vertical;
  min-height: 120px;
}

input[type="checkbox"],
input[type="radio"] {
  accent-color: var(--brand-500);
}

.empty-state {
  text-align: center;
  padding: 24px;
  border-radius: var(--radius-md);
  border: 1px dashed rgba(61, 108, 255, 0.24);
  background: rgba(61, 108, 255, 0.04);
  color: var(--neutral-500);
  font-size: 14px;
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 13px;
  border: 1px solid rgba(205, 215, 235, 0.6);
}

.pill[data-status="OPEN"] {
  background: rgba(15, 157, 88, 0.12);
  color: var(--success-500);
  border-color: rgba(15, 157, 88, 0.3);
}

.pill[data-status="CLOSED"] {
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
  border-color: rgba(217, 48, 37, 0.3);
}

.status-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 14px;
}

.status-card {
  background: var(--bg-surface);
  padding: 20px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.6);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.status-card__label {
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.status-card__value {
  font-size: 24px;
  font-weight: 700;
  color: var(--neutral-800);
}

.progress-bar {
  height: 10px;
  border-radius: 999px;
  background: var(--neutral-100);
  overflow: hidden;
}

.progress-bar__value {
  height: 100%;
  background: linear-gradient(90deg, var(--brand-500), var(--brand-300));
  border-radius: 999px;
  transition: width 0.3s ease;
}

.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: rgba(15, 24, 45, 0.55);
  z-index: 100;
}

.modal[data-open="true"] {
  display: flex;
}

.modal__card {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 26px;
  width: min(720px, 100%);
  box-shadow: var(--shadow-lg);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.modal__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 18px;
}

.modal__title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.modal__close {
  border: none;
  background: transparent;
  color: var(--neutral-500);
  font-size: 18px;
  cursor: pointer;
}

.modal__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.modal__actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.footer {
  text-align: center;
  padding: 32px 16px 48px;
  font-size: 13px;
  color: var(--neutral-500);
}

.sidebar-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 24, 45, 0.35);
  z-index: 50;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease;
}

.sidebar-backdrop[data-open="true"] {
  opacity: 1;
  pointer-events: auto;
}

.auth {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - 160px);
  padding: 40px 16px;
}

.auth__card {
  width: min(420px, 100%);
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 32px;
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(61, 108, 255, 0.18);
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.auth__brand {
  display: flex;
  align-items: center;
  gap: 16px;
}

.auth__logo {
  width: 64px;
  height: 64px;
  border-radius: 18px;
  background: var(--neutral-100);
  padding: 10px;
  box-shadow: inset 0 0 0 1px rgba(61, 108, 255, 0.12);
}

.auth__title {
  margin: 0;
  font-size: 26px;
  font-weight: 800;
}

.auth__subtitle {
  margin: 0;
  font-size: 15px;
  color: var(--neutral-500);
}

.auth__form {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.auth__form .field label {
  text-transform: uppercase;
  letter-spacing: 0.14em;
  font-size: 12px;
  color: var(--neutral-500);
}

.auth__actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.auth__error {
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  background: rgba(217, 48, 37, 0.1);
  color: var(--danger-500);
  font-weight: 600;
  border: 1px solid rgba(217, 48, 37, 0.24);
}

/* Dashboard */
.dashboard {
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.hero-card {
  display: grid;
  grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
  gap: 32px;
  padding: clamp(28px, 5vw, 44px);
  border-radius: var(--radius-xl);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.24);
  box-shadow: var(--shadow-md);
  position: relative;
  overflow: hidden;
}

.hero-card::after {
  content: "";
  position: absolute;
  inset: auto -140px -160px auto;
  width: 420px;
  height: 420px;
  background: radial-gradient(circle at center, rgba(255, 138, 92, 0.28), transparent 65%);
  opacity: 0.8;
  pointer-events: none;
}

@media (max-width: 960px) {
  .hero-card {
    grid-template-columns: 1fr;
  }
}

.hero-title {
  margin: 0;
  font-size: clamp(30px, 6vw, 44px);
  font-weight: 800;
  color: var(--neutral-900);
}

.hero-text {
  margin: 12px 0 0;
  font-size: 17px;
  color: var(--neutral-500);
  max-width: 540px;
}

.hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 24px;
}

.hero-actions .btn {
  background: var(--bg-surface);
  border-color: rgba(61, 108, 255, 0.26);
}

.hero-actions .btn.primary {
  color: #fff;
}

.hero-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.hero-stat {
  position: relative;
  padding: 22px;
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid rgba(61, 108, 255, 0.18);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.hero-stat .label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: var(--neutral-500);
  font-weight: 600;
}

.hero-stat .value {
  font-size: 30px;
  font-weight: 800;
  color: var(--neutral-900);
}

.hero-stat .hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.hero-stat.highlight {
  border-color: rgba(15, 157, 88, 0.3);
  background: linear-gradient(135deg, rgba(15, 157, 88, 0.1), rgba(15, 157, 88, 0.02));
}

.content-grid {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.panel {
  padding: 32px;
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
}

.panel .title {
  font-size: 22px;
  font-weight: 700;
  margin: 0;
  color: var(--neutral-900);
}

.panel .subtitle {
  font-size: 15px;
  color: var(--neutral-500);
  margin: 8px 0 0;
}

.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-top: 24px;
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-field label {
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-600);
}

.slot-card {
  margin-top: 32px;
  padding: 24px;
  border-radius: var(--radius-lg);
  background: var(--bg-subtle);
  border: 1px solid rgba(61, 108, 255, 0.18);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.slot-card .subtitle {
  margin: 0;
  font-size: 15px;
  color: var(--neutral-700);
  font-weight: 700;
}

.slot-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.slot-chip {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  box-shadow: var(--shadow-sm);
}

.slot-chip .info {
  font-weight: 600;
  color: var(--neutral-700);
}

.slot-chip .meta {
  font-size: 12px;
  color: var(--neutral-500);
}

.slot-chip .btn {
  margin-left: auto;
}

.slot-form {
  margin-top: 8px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
}

.slot-form .btn {
  justify-content: center;
}

.slot-hint {
  margin-top: 6px;
  color: var(--neutral-500);
  font-size: 13px;
}

.selection-card {
  margin-top: 32px;
  padding: 26px;
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 22px;
}

.selection-header {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.selection-header .muted {
  font-size: 14px;
  color: var(--neutral-500);
}

.root-groups {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.root-group {
  padding: 18px;
  border-radius: var(--radius-md);
  background: var(--bg-subtle);
  border: 1px solid rgba(205, 215, 235, 0.7);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.root-group-title {
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--neutral-800);
}

.root-group-empty {
  font-size: 13px;
  color: var(--neutral-500);
}

.root-group-nodes {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.root-chip {
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 14px 16px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(61, 108, 255, 0.18);
  background: #fff;
  min-width: 0;
  flex: 1 1 220px;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}

.root-chip:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  border-color: rgba(61, 108, 255, 0.32);
}

.root-chip input {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.root-chip-content {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.root-chip-name {
  font-weight: 600;
  color: var(--neutral-800);
}

.root-chip-meta {
  font-size: 12px;
  color: var(--neutral-500);
}

.root-chip .badge {
  margin-left: auto;
  background: rgba(61, 108, 255, 0.08);
  border-color: rgba(61, 108, 255, 0.18);
}

.root-chip.is-checked {
  border-color: rgba(61, 108, 255, 0.45);
  box-shadow: 0 18px 34px rgba(61, 108, 255, 0.15);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.12), rgba(255, 255, 255, 0.9));
}

.root-chip.is-checked .root-chip-name {
  color: var(--brand-700);
}

.root-chip.is-checked .root-chip-meta {
  color: var(--neutral-600);
}

.form-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  margin-top: 28px;
}

.form-actions .btn {
  flex: 1 1 200px;
  justify-content: center;
}

.form-actions .btn.primary {
  flex: 0 0 auto;
  padding-inline: 28px;
}

.events-panel .title {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.events-panel .title span {
  font-size: 12px;
  font-weight: 600;
  color: var(--neutral-400);
  text-transform: uppercase;
  letter-spacing: 0.2em;
}

.events-search {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 20px;
}

.events-search input {
  flex: 1;
  min-width: 220px;
}

.events-table {
  margin-top: 24px;
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-surface);
  box-shadow: var(--shadow-sm);
}

.events-table table {
  width: 100%;
  border-collapse: collapse;
}

.events-table th,
.events-table td {
  padding: 14px 16px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.55);
  font-size: 14px;
}

.events-table th {
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 0.18em;
  color: var(--neutral-500);
  background: var(--bg-subtle);
}

.events-table tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.events-table td.actions {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.status-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 12px;
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  color: var(--neutral-600);
}

.status-pill[data-status="OPEN"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.status-pill[data-status="CLOSED"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.empty-state {
  padding: 22px;
  text-align: center;
  color: var(--neutral-500);
}

@media (max-width: 640px) {
  .panel {
    padding: 24px;
  }

  .hero-actions .btn {
    flex: 1 1 auto;
  }

  .form-actions .btn {
    flex: 1 1 100%;
  }

  .slot-chip {
    align-items: flex-start;
  }
}

/* Gestion */
.manage-page {
  display: flex;
  flex-direction: column;
  gap: 36px;
}

.manage-hero {
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-xl);
  padding: clamp(28px, 5vw, 40px);
  box-shadow: var(--shadow-md);
  display: grid;
  gap: 28px;
  grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.8fr);
  align-items: start;
}

.manage-hero .title {
  font-size: clamp(26px, 4vw, 34px);
  font-weight: 800;
  margin: 0;
  color: var(--neutral-900);
}

.manage-hero .subtitle {
  font-size: 16px;
  color: var(--neutral-500);
  margin: 10px 0 0;
  max-width: 620px;
  line-height: 1.6;
}

.manage-hero .hero-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 22px;
}

.manage-hero .hero-actions .btn {
  background: var(--bg-surface);
  border-color: rgba(61, 108, 255, 0.26);
}

.manage-hero .hero-actions .btn.primary {
  color: #fff;
}

.manage-hero .stat-box {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 24px;
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
}

.manage-hero .stat-label {
  font-size: 12px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--neutral-500);
  font-weight: 600;
}

.manage-hero .stat-value {
  font-size: 32px;
  font-weight: 800;
  color: var(--neutral-900);
}

.manage-hero .stat-hint {
  font-size: 14px;
  color: var(--neutral-500);
}

.layout {
  display: grid;
  grid-template-columns: var(--col-left) 1fr;
  gap: 24px;
}

@media (max-width: 1120px) {
  .layout {
    grid-template-columns: 1fr;
  }
}

.card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.card .hd {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  padding: 22px 24px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.6);
}

.card .hd .title {
  margin: 0;
  font-size: 18px;
  font-weight: 700;
  color: var(--neutral-800);
}

.card .hd .subtitle {
  margin: 0;
  font-size: 14px;
  color: var(--neutral-500);
}

.card .bd {
  padding: 22px 24px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.roots {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.root-group {
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  padding: 18px;
  background: var(--bg-subtle);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.root-group-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.root-group-label {
  font-weight: 700;
  font-size: 15px;
  color: var(--neutral-800);
}

.root-group-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.root-group-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.root-group-empty {
  font-size: 13px;
  color: var(--neutral-500);
}

.root {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border 0.15s ease;
}

.root:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  border-color: rgba(61, 108, 255, 0.3);
}

.root.active {
  border-color: rgba(61, 108, 255, 0.45);
  box-shadow: 0 18px 34px rgba(61, 108, 255, 0.15);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.1), rgba(255, 255, 255, 0.95));
}

.root .name {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  font-weight: 600;
  color: var(--neutral-800);
}

.root .meta {
  font-size: 12px;
  color: var(--neutral-500);
}

.empty {
  border: 1px dashed rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-md);
  padding: 22px;
  text-align: center;
  color: var(--neutral-500);
  background: var(--bg-subtle);
}

.toolbar {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.toolbar input[type="search"],
.toolbar select {
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  color: var(--neutral-700);
  min-width: 220px;
}

.toolbar label.btn {
  position: relative;
  overflow: hidden;
}

.toolbar label.btn input {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.selbar {
  position: sticky;
  top: 0;
  z-index: 5;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  padding: 12px 16px;
  display: none;
  gap: 10px;
  align-items: center;
  box-shadow: var(--shadow-sm);
}

.selbar.show {
  display: flex;
}

.selbar .count {
  font-weight: 700;
  color: var(--neutral-800);
}

.drop-root {
  border: 1px dashed rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-md);
  padding: 14px;
  text-align: center;
  margin: 8px 0;
  color: var(--neutral-500);
  background: var(--bg-subtle);
  transition: border-color 0.2s ease, background 0.2s ease, color 0.2s ease;
}

.drop-root.drag-over {
  border-color: rgba(61, 108, 255, 0.45);
  background: rgba(61, 108, 255, 0.1);
  color: var(--brand-700);
}

.verification-page .node {
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  margin: 8px 0;
  padding: 16px;
  background: var(--bg-surface);
  box-shadow: var(--shadow-sm);
  transition: border 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease;
}

.node:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
  border-color: rgba(61, 108, 255, 0.3);
}

.verification-page .header {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.name {
  font-weight: 700;
  color: var(--neutral-800);
}

.verification-page .childs {
  margin-left: 20px;
  margin-top: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  color: var(--neutral-600);
  background: var(--bg-subtle);
}

.b-expired {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.b-j30 {
  background: rgba(251, 188, 4, 0.16);
  border-color: rgba(251, 188, 4, 0.34);
  color: #915600;
}

.b-j60 {
  background: rgba(56, 142, 142, 0.14);
  border-color: rgba(56, 142, 142, 0.28);
  color: #246262;
}

.b-later {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.b-none {
  opacity: 0.6;
}

.dd {
  position: relative;
  display: inline-block;
}

.dd-menu {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  display: none;
  min-width: 220px;
  z-index: 20;
  padding: 8px 0;
}

.dd.show .dd-menu {
  display: block;
}

.dd-menu button {
  display: block;
  width: 100%;
  text-align: left;
  padding: 10px 16px;
  border: 0;
  background: transparent;
  color: var(--neutral-700);
  cursor: pointer;
  font-weight: 600;
}

.dd-menu button:hover {
  background: var(--bg-subtle);
}

.modal {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(15, 24, 45, 0.55);
  z-index: 90;
  padding: 24px;
}

.modal.show {
  display: flex;
}

.modal .box {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 28px;
  max-width: 720px;
  width: 100%;
  max-height: calc(100vh - 80px);
  overflow-y: auto;
  box-shadow: var(--shadow-lg);
}

.modal .row {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.modal label {
  display: block;
  margin-top: 8px;
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-600);
}

.modal input,
.modal select,
.modal textarea {
  width: 100%;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  color: var(--neutral-700);
}

.modal textarea {
  min-height: 100px;
  resize: vertical;
}

.modal .actions {
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  margin-top: 22px;
}

.modal table.table-expiries {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
}

.modal table.table-expiries th,
.modal table.table-expiries td {
  border-bottom: 1px solid rgba(205, 215, 235, 0.6);
  padding: 10px 12px;
  text-align: left;
  font-size: 13px;
}

.modal table.table-expiries th {
  text-transform: uppercase;
  letter-spacing: 0.16em;
  font-size: 11px;
  color: var(--neutral-500);
}

.modal table.table-expiries td:last-child {
  text-align: right;
  white-space: nowrap;
}

.selbox {
  margin-right: 12px;
  appearance: none;
  width: 18px;
  height: 18px;
  min-width: 18px;
  border-radius: 6px;
  border: 2px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 12px;
}

.selbox:hover {
  border-color: rgba(61, 108, 255, 0.55);
  background: rgba(61, 108, 255, 0.12);
}

.selbox:focus-visible {
  outline: 3px solid rgba(61, 108, 255, 0.32);
  outline-offset: 2px;
}

.selbox:checked {
  background: linear-gradient(135deg, var(--brand-500), var(--brand-600));
  border-color: rgba(61, 108, 255, 0.9);
  box-shadow: 0 6px 18px rgba(61, 108, 255, 0.25);
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 10'%3E%3Cpath fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' d='M1 5l3 3 7-7'/%3E%3C/svg%3E");
}

.node.is-selected {
  border-color: rgba(61, 108, 255, 0.45);
  background: rgba(61, 108, 255, 0.12);
  box-shadow: 0 18px 34px rgba(61, 108, 255, 0.18);
}

.node.drag-over {
  outline: 2px dashed rgba(61, 108, 255, 0.4);
  outline-offset: 4px;
}

@media (max-width: 720px) {
  .manage-hero {
    grid-template-columns: 1fr;
  }

  .card .hd {
    padding: 20px 20px 14px;
  }

  .card .bd {
    padding: 20px;
  }

  .toolbar input[type="search"] {
    min-width: 180px;
  }
}

/* Événement */
.page-event {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.event-layout {
  display: grid;
  grid-template-columns: minmax(0, 2.1fr) minmax(0, 1fr);
  gap: 24px;
  align-items: stretch;
}

@media (max-width: 1100px) {
  .event-layout {
    grid-template-columns: 1fr;
  }
}

.overview-card {
  position: relative;
  padding: clamp(28px, 4vw, 36px);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.overview-meta .title {
  font-size: clamp(26px, 4vw, 34px);
  font-weight: 800;
  margin: 0;
  color: var(--neutral-900);
}

.overview-meta .muted {
  color: var(--neutral-500);
  font-size: 15px;
}

.event-badge {
  position: absolute;
  top: 20px;
  right: 24px;
  padding: 6px 14px;
  border-radius: 999px;
  background: var(--bg-subtle);
  border: 1px solid rgba(205, 215, 235, 0.7);
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.02em;
  text-transform: uppercase;
  color: var(--neutral-600);
}

.event-badge[data-status="OPEN"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.event-badge[data-status="CLOSED"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.overview-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.overview-actions .btn {
  background: var(--bg-subtle);
  border-color: rgba(205, 215, 235, 0.7);
}

.overview-actions .btn.primary {
  color: #fff;
}

.overview-extra {
  margin-top: 8px;
  padding-top: 18px;
  border-top: 1px solid rgba(205, 215, 235, 0.6);
  display: grid;
  gap: 18px;
}

.overview-extra .section {
  display: grid;
  gap: 12px;
}

.schedule-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 14px;
  color: var(--neutral-600);
}

.schedule-item {
  font-weight: 600;
  color: var(--neutral-700);
}

.overview-roots {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.overview-roots-empty {
  color: var(--neutral-500);
  font-size: 13px;
}

.stat-card {
  padding: 26px;
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.stat-title {
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.stat-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
}

.chip {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 14px 16px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  color: var(--neutral-700);
  font-weight: 700;
}

.chip-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.chip-value {
  font-size: 22px;
}

.chip.ok {
  border-color: rgba(15, 157, 88, 0.3);
  background: rgba(15, 157, 88, 0.1);
  color: var(--success-500);
}

.chip.bad {
  border-color: rgba(217, 48, 37, 0.3);
  background: rgba(217, 48, 37, 0.1);
  color: var(--danger-500);
}

.chip.wait {
  border-color: rgba(61, 108, 255, 0.28);
  background: rgba(61, 108, 255, 0.08);
  color: var(--brand-700);
}

.progress {
  height: 10px;
  border-radius: 999px;
  background: var(--neutral-100);
  overflow: hidden;
}

.progress > div {
  height: 100%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--brand-500), var(--brand-300));
  transition: width 0.4s ease;
}

.progress-caption {
  font-size: 13px;
  color: var(--neutral-500);
}

.section-card {
  padding: 26px;
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.section-heading {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.section-heading .title {
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.section-heading .muted {
  font-size: 13px;
  color: var(--neutral-500);
}

.parents-card .title {
  display: flex;
  align-items: center;
  gap: 10px;
}

.parents-bar {
  display: flex;
  gap: 10px;
  overflow-x: auto;
  padding: 12px 2px 6px;
}

.parent-pill {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  color: var(--neutral-700);
  font-weight: 600;
  white-space: nowrap;
  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
}

.parent-pill:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  border-color: rgba(61, 108, 255, 0.32);
}

.parent-pill.summary {
  cursor: default;
  box-shadow: none;
}

.pill-ok {
  border-color: rgba(15, 157, 88, 0.3);
  background: rgba(15, 157, 88, 0.12);
  color: var(--success-500);
}

.pill-bad {
  border-color: rgba(217, 48, 37, 0.3);
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
}

.pill-wait {
  border-color: rgba(61, 108, 255, 0.3);
  background: rgba(61, 108, 255, 0.1);
  color: var(--brand-700);
}

.parent-pill .summary-qty {
  font-size: 11px;
  padding: 4px 8px;
  border-radius: 999px;
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  color: var(--neutral-500);
}

.modal-back {
  position: fixed;
  inset: 0;
  background: rgba(15, 24, 45, 0.55);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 90;
  padding: 24px;
}

.modal-back.show,
.modal-back[data-open="true"] {
  display: flex;
}

.modal-card {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 28px;
  width: min(720px, 100%);
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
}

.modal-card.wide {
  max-width: 820px;
}

.modal-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 16px;
}

.modal-header .title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.modal-close {
  border: none;
  background: transparent;
  color: var(--neutral-500);
  cursor: pointer;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: var(--radius-sm);
}

.modal-close:hover {
  background: var(--bg-subtle);
}

.modal-card textarea {
  min-height: 100px;
}

.modal-card .modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 18px;
}

body.modal-open {
  overflow: hidden;
}

/* Calendrier */
.calendar-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
  align-items: center;
}

.calendar-filters input[type="date"],
.calendar-filters select {
  min-width: 180px;
}

.calendar-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 20px;
}

.material-group {
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 18px;
  background: var(--bg-surface);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.material-group .group-title {
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--neutral-800);
}

.slot-entries {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.slot-entry {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  background: var(--bg-subtle);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  padding: 12px 16px;
}

.slot-entry .slot-time {
  font-weight: 700;
  color: var(--neutral-800);
}

.slot-entry .slot-event {
  color: var(--brand-700);
  text-decoration: none;
  font-weight: 600;
}

.slot-entry .slot-event:hover {
  text-decoration: underline;
}

.slot-status {
  background: rgba(61, 108, 255, 0.12);
  color: var(--brand-700);
  border: 1px solid rgba(61, 108, 255, 0.32);
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
}

.error-state {
  padding: 16px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(217, 48, 37, 0.32);
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
}

.range-label {
  color: var(--neutral-500);
  font-size: 14px;
}

.visual-calendar-card {
  margin-top: 24px;
}

.calendar-mode-toggle {
  display: flex;
  gap: 10px;
}

.calendar-mode-toggle .btn {
  min-width: 120px;
  justify-content: center;
}

.calendar-mode-toggle .btn.active {
  background: linear-gradient(135deg, var(--brand-500), var(--brand-600));
  color: #fff;
  border-color: transparent;
}

.visual-calendar {
  margin-top: 20px;
  display: grid;
  gap: 12px;
}

.calendar-week-grid {
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.calendar-month-grid {
  grid-template-columns: repeat(7, minmax(0, 1fr));
}

.calendar-day {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-md);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-height: 180px;
}

.calendar-day-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 600;
  color: var(--neutral-700);
  text-transform: capitalize;
}

.calendar-day.muted-day .calendar-day-header {
  color: var(--neutral-400);
}

.calendar-day.today {
  border-color: rgba(61, 108, 255, 0.6);
  box-shadow: 0 0 0 1px rgba(61, 108, 255, 0.2);
}

.calendar-event {
  background: var(--bg-subtle);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-sm);
  padding: 6px 8px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.calendar-event .event-time {
  font-size: 12px;
  color: var(--brand-700);
  font-weight: 600;
}

.calendar-event .event-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-800);
  text-decoration: none;
}

.calendar-event .event-name:hover {
  text-decoration: underline;
}

.calendar-event .event-status {
  font-size: 11px;
  color: var(--neutral-400);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.calendar-empty {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--neutral-400);
  font-size: 12px;
  min-height: 60px;
  border: 1px dashed rgba(205, 215, 235, 0.6);
  border-radius: var(--radius-sm);
  padding: 12px;
}

@media (max-width: 1024px) {
  .visual-calendar {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }

  .calendar-week-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }

  .calendar-month-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }
}

/* Péremptions */
.peremption-page {
  max-width: 1100px;
  margin: 0 auto;
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.peremption-hero {
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-xl);
  padding: clamp(26px, 4vw, 40px);
  box-shadow: var(--shadow-md);
  display: grid;
  gap: 24px;
  grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
  align-items: start;
}

.peremption-hero .title {
  font-size: clamp(26px, 4vw, 34px);
  margin: 0;
  color: var(--neutral-900);
  font-weight: 800;
}

.peremption-hero .subtitle {
  margin: 10px 0 0;
  color: var(--neutral-500);
  font-size: 16px;
  line-height: 1.6;
}

.peremption-summary {
  align-self: start;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 22px;
  border-radius: var(--radius-lg);
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-sm);
}

.peremption-summary-label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.28em;
  color: var(--neutral-500);
  font-weight: 600;
}

.peremption-summary-value {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-size: 28px;
  font-weight: 800;
  color: var(--neutral-900);
}

.peremption-summary-value .count {
  font-size: 40px;
  line-height: 1.1;
}

.peremption-summary-value .window {
  font-size: 12px;
  color: var(--neutral-400);
  text-transform: uppercase;
  letter-spacing: 0.2em;
}

.peremption-summary-hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.peremption-panel {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 28px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.peremption-panel .panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.peremption-panel .panel-header .title {
  font-size: 20px;
  margin: 0;
  color: var(--neutral-900);
  font-weight: 700;
}

.peremption-panel .panel-header .muted {
  margin: 0;
  color: var(--neutral-500);
}

.filters {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.filters label {
  font-size: 13px;
  font-weight: 600;
  color: var(--neutral-600);
}

.filters input,
.filters select {
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  color: var(--neutral-700);
  min-width: 140px;
  font-weight: 600;
}

.filters input:focus,
.filters select:focus {
  border-color: rgba(61, 108, 255, 0.45);
  box-shadow: 0 0 0 3px rgba(61, 108, 255, 0.18);
  outline: none;
}

.filters .search {
  flex: 1 1 240px;
}

.filters .btn {
  padding: 12px 18px;
}

.peremption-table {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 26px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.peremption-table .title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.peremption-table .muted {
  margin: 0;
  color: var(--neutral-500);
}

.table-head {
  display: grid;
  grid-template-columns: 1fr 1fr 140px 120px 120px;
  gap: 12px;
  padding: 0 12px;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.28em;
  color: var(--neutral-400);
}

.peremption-row {
  display: grid;
  grid-template-columns: 1fr 1fr 140px 120px 120px;
  gap: 14px;
  align-items: center;
  padding: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  box-shadow: var(--shadow-sm);
  margin-top: 12px;
}

.peremption-row.expired {
  border-color: rgba(217, 48, 37, 0.3);
  background: rgba(217, 48, 37, 0.12);
  box-shadow: 0 18px 34px rgba(217, 48, 37, 0.16);
}

.peremption-row.soon {
  border-color: rgba(251, 188, 4, 0.3);
  background: rgba(251, 188, 4, 0.14);
  box-shadow: 0 18px 34px rgba(251, 188, 4, 0.16);
}

.peremption-row.ok {
  border-color: rgba(15, 157, 88, 0.3);
  background: rgba(15, 157, 88, 0.12);
}

.peremption-row .name {
  font-weight: 700;
  color: var(--neutral-800);
}

.peremption-row .details {
  font-size: 12px;
  color: var(--neutral-500);
  margin-top: 4px;
}

.peremption-row .path {
  color: var(--neutral-500);
  font-size: 14px;
}

.peremption-row .value {
  font-weight: 600;
  color: var(--neutral-800);
}

.status-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 12px;
  border: 1px solid rgba(205, 215, 235, 0.7);
}

.status-badge[data-state="expired"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.32);
  color: var(--danger-500);
}

.status-badge[data-state="soon"] {
  background: rgba(251, 188, 4, 0.16);
  border-color: rgba(251, 188, 4, 0.34);
  color: #915600;
}

.status-badge[data-state="ok"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

#list {
  margin-top: 6px;
}

#empty {
  display: none;
  margin-top: 12px;
  padding: 16px;
  border-radius: var(--radius-md);
  border: 1px dashed rgba(205, 215, 235, 0.6);
  color: var(--neutral-500);
  text-align: center;
  background: var(--bg-subtle);
}

@media (max-width: 920px) {
  .peremption-hero {
    grid-template-columns: 1fr;
    padding: 24px;
  }

  .peremption-summary {
    flex-direction: row;
    align-items: flex-end;
    justify-content: space-between;
  }

  .table-head {
    display: none;
  }

  .peremption-row {
    grid-template-columns: 1fr;
    gap: 10px;
  }
}

/* Administration */
.admin-page {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

.admin-hero {
  display: grid;
  grid-template-columns: minmax(0, 1.3fr) minmax(0, 0.7fr);
  gap: 28px;
  align-items: stretch;
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-xl);
  padding: clamp(28px, 5vw, 40px);
  box-shadow: var(--shadow-md);
}

.admin-hero .title {
  font-size: clamp(26px, 4vw, 34px);
  margin: 0 0 10px;
  font-weight: 800;
  color: var(--neutral-900);
}

.admin-hero .subtitle {
  font-size: 16px;
  color: var(--neutral-500);
}

.admin-hero .hero-actions {
  margin-top: 20px;
}

.admin-hero-stats {
  display: grid;
  gap: 14px;
  align-content: start;
}

.admin-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 18px;
}

.admin-card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 26px;
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.admin-card .title {
  margin-bottom: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.admin-card ul {
  margin: 0;
  padding-left: 18px;
  color: var(--neutral-600);
  font-size: 14px;
  line-height: 1.6;
}

.admin-card ul li + li {
  margin-top: 6px;
}

.user-form {
  display: grid;
  gap: 16px;
}

.user-form .field {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.user-form label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.28em;
  color: var(--neutral-500);
  font-weight: 600;
}

.user-form input,
.user-form select {
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  color: var(--neutral-700);
  font-weight: 600;
}

.user-form input:focus,
.user-form select:focus {
  border-color: rgba(61, 108, 255, 0.45);
  box-shadow: 0 0 0 3px rgba(61, 108, 255, 0.18);
  outline: none;
}

.user-form .form-actions {
  display: flex;
  justify-content: flex-end;
}

.users-card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 28px;
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.users-card .title {
  margin-bottom: 4px;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.users-card .subtitle {
  margin-top: 0;
  color: var(--neutral-500);
}

.table-scroll {
  overflow-x: auto;
}

.table-wrapper {
  margin-top: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.table-wrapper table {
  width: 100%;
  border-collapse: collapse;
  min-width: 760px;
}

.table-wrapper th,
.table-wrapper td {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.55);
  font-size: 14px;
  text-align: left;
}

.table-wrapper th {
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.28em;
  color: var(--neutral-500);
  background: var(--bg-subtle);
}

.table-wrapper tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.status-badge[data-state="active"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.status-badge[data-state="inactive"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.user-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

.user-actions form {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.user-actions input {
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: #fff;
  color: var(--neutral-700);
  min-width: 160px;
}

.user-actions button {
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  color: var(--neutral-700);
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.12s ease, box-shadow 0.12s ease;
}

.user-actions button:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.user-actions .danger {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.user-actions .success {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

@media (max-width: 960px) {
  .admin-hero {
    grid-template-columns: 1fr;
    padding: 26px;
  }
}

@media (max-width: 640px) {
  .admin-card,
  .users-card {
    padding: 22px;
  }

  .table-wrapper table {
    min-width: 680px;
  }
}

/* Administration logs */
.logs-page {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.logs-hero {
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-xl);
  padding: clamp(26px, 4vw, 36px);
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.logs-hero .title {
  font-size: clamp(24px, 4vw, 30px);
  margin: 0;
  font-weight: 800;
  color: var(--neutral-900);
}

.logs-hero .subtitle {
  color: var(--neutral-500);
  font-size: 15px;
  max-width: 620px;
}

.logs-hero .hero-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 10px;
}

.logs-table-card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  padding: 26px;
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.logs-table-card .title {
  margin-bottom: 4px;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.logs-table-card .subtitle {
  margin: 0;
  color: var(--neutral-500);
}

.logs-table-wrapper {
  margin-top: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  overflow: hidden;
  background: var(--bg-subtle);
  box-shadow: var(--shadow-sm);
}

.logs-table-wrapper table {
  width: 100%;
  border-collapse: collapse;
  min-width: 780px;
}

.logs-table-wrapper th,
.logs-table-wrapper td {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.55);
  font-size: 14px;
}

.logs-table-wrapper th {
  text-align: left;
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.28em;
  color: var(--neutral-500);
  background: var(--bg-subtle);
}

.logs-table-wrapper tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.status-pill[data-state="success"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.status-pill[data-state="error"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.table-scroll {
  overflow-x: auto;
}

.verification-page .header.toggle {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-radius: var(--radius-md);
  cursor: pointer;
  background: var(--bg-subtle);
  transition: background 0.2s ease, transform 0.1s ease;
}

.header.toggle:hover {
  background: rgba(61, 108, 255, 0.1);
  transform: translateY(-1px);
}

.verification-page .header .left {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.header .group-name {
  font-weight: 700;
  color: var(--neutral-800);
}

.chev {
  width: 18px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  opacity: 0.7;
}

.verification-page .childs.collapsed {
  display: none;
}

.slot-chip .info {
  font-weight: 600;
}

#event-roots-status,
#event-slots-status {
  margin-top: 8px;
  font-size: 13px;
  color: var(--neutral-500);
  display: none;
}

#event-roots-status.success,
#event-slots-status.success {
  color: var(--success-500);
  display: block;
}

#event-roots-status.error,
#event-slots-status.error {
  color: var(--danger-500);
  display: block;
}

/* Templates & lots */
.templates-page {
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.templates-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 20px;
}

.templates-header__intro {
  max-width: 560px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.templates-title {
  margin: 0;
  font-size: clamp(26px, 4vw, 34px);
  font-weight: 800;
  color: var(--neutral-900);
}

.templates-lead {
  margin: 0;
  font-size: 15px;
  color: var(--neutral-600);
}

.templates-metrics {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.templates-metric {
  min-width: 140px;
  padding: 16px 18px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-surface);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.templates-metric__value {
  font-size: 24px;
  font-weight: 800;
  color: var(--neutral-900);
}

.templates-metric__label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.templates-board {
  display: grid;
  grid-template-columns: minmax(0, 1.05fr) minmax(0, 0.95fr);
  gap: 24px;
  align-items: start;
}

@media (max-width: 1100px) {
  .templates-board {
    grid-template-columns: 1fr;
  }
}

.templates-table {
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-surface);
  box-shadow: var(--shadow-sm);
}

.templates-table__scroll {
  overflow-x: auto;
}

.templates-table__scroll table {
  width: 100%;
  min-width: 640px;
  border-collapse: collapse;
}

.templates-table__scroll th,
.templates-table__scroll td {
  padding: 14px 16px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.5);
  text-align: left;
  font-size: 14px;
}

.templates-table__scroll thead {
  background: var(--bg-subtle);
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.templates-table__scroll tbody tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.templates-table__scroll tbody tr:last-child td {
  border-bottom: none;
}

.templates-table__kind {
  width: 120px;
}

.templates-table__nodes {
  width: 45%;
}

.templates-table__actions {
  width: 220px;
}

.templates-table__actions-cell {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.templates-table__empty {
  text-align: center;
  color: var(--neutral-500);
  padding: 18px;
}

.templates-form .field label {
  font-weight: 600;
  color: var(--neutral-600);
}

.templates-form__grid {
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.templates-form__description textarea {
  resize: vertical;
  min-height: 96px;
}

.templates-alert {
  margin-top: 6px;
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.templates-alert__title {
  font-size: 13px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--neutral-500);
}

.templates-alert__empty {
  color: var(--neutral-500);
  font-size: 14px;
}

.badge--soft {
  font-size: 12px;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(61, 108, 255, 0.1);
  color: var(--neutral-700);
  border: 1px solid rgba(61, 108, 255, 0.2);
}

.templates-actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.templates-actions .btn {
  min-width: 140px;
}

.root-chip--checked {
  border-color: rgba(63, 167, 120, 0.32);
  box-shadow: 0 16px 32px rgba(63, 167, 120, 0.18);
  background: rgba(63, 167, 120, 0.08);
}

/* Stock expiries */
.expiry-page {
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.expiry-hero {
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.16), rgba(61, 108, 255, 0.04));
  border: 1px solid rgba(61, 108, 255, 0.26);
  border-radius: var(--radius-xl);
  padding: clamp(24px, 5vw, 36px);
  box-shadow: var(--shadow-md);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.expiry-hero__title {
  margin: 0;
  font-size: clamp(24px, 4vw, 32px);
  font-weight: 800;
  color: var(--neutral-900);
}

.expiry-hero__meta {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  color: var(--neutral-600);
}

.expiry-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(61, 108, 255, 0.24);
  background: rgba(61, 108, 255, 0.08);
  font-weight: 600;
  color: var(--neutral-700);
}

.expiry-hero__actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.expiry-card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.expiry-card__header {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.expiry-card__title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.expiry-card__subtitle {
  margin: 0;
  color: var(--neutral-500);
  font-size: 14px;
}

.expiry-table__wrapper {
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.7);
  overflow: hidden;
  background: var(--bg-subtle);
  box-shadow: var(--shadow-sm);
}

.expiry-table {
  width: 100%;
  border-collapse: collapse;
  min-width: 640px;
}

.expiry-table th,
.expiry-table td {
  padding: 12px 14px;
  border-bottom: 1px solid rgba(205, 215, 235, 0.55);
  font-size: 14px;
  text-align: left;
}

.expiry-table th {
  background: var(--bg-subtle);
  text-transform: uppercase;
  font-size: 11px;
  letter-spacing: 0.26em;
  color: var(--neutral-500);
}

.expiry-table tbody tr:hover td {
  background: rgba(61, 108, 255, 0.08);
}

.expiry-table tbody tr:last-child td {
  border-bottom: none;
}

.expiry-table__actions {
  width: 140px;
}

.expiry-table__actions-cell {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.expiry-table__empty {
  text-align: center;
  padding: 16px;
  color: var(--neutral-500);
}

.expiry-form {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.expiry-form input {
  flex: 1 1 180px;
  min-width: 160px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  color: var(--neutral-700);
  font-weight: 600;
}

.expiry-form input:focus {
  outline: none;
  border-color: rgba(61, 108, 255, 0.6);
  box-shadow: 0 0 0 3px rgba(61, 108, 255, 0.16);
}

.expiry-form__note {
  flex: 1 1 260px;
}

.expiry-hint {
  font-size: 13px;
  color: var(--neutral-500);
}

@media (max-width: 720px) {
  .expiry-form {
    flex-direction: column;
  }

  .expiry-form input,
  .expiry-form button {
    width: 100%;
  }
}

/* Vérification périodique */
.verification-page {
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.verification-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
}

.verification-card {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.verification-card__header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
  flex-wrap: wrap;
}

.verification-card__title {
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.verification-card__subtitle {
  margin: 0;
  font-size: 14px;
  color: var(--neutral-500);
}

.verification-card__alert {
  border-radius: var(--radius-md);
  background: rgba(61, 108, 255, 0.08);
  border: 1px solid rgba(61, 108, 255, 0.2);
  padding: 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  color: var(--neutral-600);
  font-size: 14px;
}

.verification-stats {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.chip--ok {
  background: rgba(15, 157, 88, 0.12);
  border: 1px solid rgba(15, 157, 88, 0.32);
  color: var(--success-500);
}

.chip--danger {
  background: rgba(217, 48, 37, 0.12);
  border: 1px solid rgba(217, 48, 37, 0.32);
  color: var(--danger-500);
}

.chip--pending {
  background: rgba(59, 130, 246, 0.12);
  border: 1px solid rgba(59, 130, 246, 0.26);
  color: #1d4ed8;
}

.verification-progress__track {
  height: 10px;
  border-radius: 999px;
  background: rgba(205, 215, 235, 0.6);
  overflow: hidden;
}

.verification-progress__bar {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, var(--brand-500), var(--brand-600));
  border-radius: inherit;
  transition: width 0.2s ease;
}

.verification-actions {
  background: var(--bg-surface);
  border: 1px solid rgba(205, 215, 235, 0.7);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  padding: 18px;
  display: flex;
  justify-content: flex-end;
}

.verification-actions__group {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.parents-bar {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.parent-pill {
  display: inline-flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  cursor: pointer;
  transition: transform 0.1s ease, box-shadow 0.15s ease, border 0.15s ease;
  min-width: 220px;
}

.parent-pill:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  border-color: rgba(61, 108, 255, 0.4);
}

.parent-pill.is-active {
  border-color: rgba(61, 108, 255, 0.5);
  background: rgba(61, 108, 255, 0.08);
}

.pill-ok {
  border-color: rgba(15, 157, 88, 0.32);
  background: rgba(15, 157, 88, 0.12);
  color: var(--success-500);
}

.pill-bad {
  border-color: rgba(217, 48, 37, 0.32);
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
}

.pill-wait {
  border-color: rgba(59, 130, 246, 0.26);
  background: rgba(59, 130, 246, 0.12);
  color: #1d4ed8;
}

.parent-pill-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.parent-pill-name {
  font-weight: 700;
  color: var(--neutral-800);
}

.parent-pill-status {
  font-size: 12px;
  font-weight: 700;
  color: var(--neutral-600);
}

.status-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(59, 130, 246, 0.6);
}

.dot-ok {
  background: var(--success-500);
}

.dot-bad {
  background: var(--danger-500);
}

.dot-wait {
  background: rgba(59, 130, 246, 0.7);
}

.verification-page .tree {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.node {
  border-radius: var(--radius-md);
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  padding: 18px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: var(--shadow-sm);
}

.verification-page .node.state-ok {
  border-color: rgba(15, 157, 88, 0.32);
  background: rgba(15, 157, 88, 0.08);
}

.verification-page .node.state-bad {
  border-color: rgba(217, 48, 37, 0.32);
  background: rgba(217, 48, 37, 0.08);
}

.verification-page .node.state-pending,
.verification-page .node.state-wait {
  border-color: rgba(59, 130, 246, 0.26);
  background: rgba(59, 130, 246, 0.08);
}

.header {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.header.toggle {
  cursor: pointer;
}

.header .left {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.verification-page .header .name {
  font-weight: 700;
  color: var(--neutral-800);
}

.verification-page .substats {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.verification-page .actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.childs {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding-left: 18px;
}

.childs.collapsed {
  display: none;
}

/* Vérification publique */
.public-wrap {
  max-width: 960px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.tree-card .title,
.finish-card .title {
  font-size: 20px;
  font-weight: 700;
  color: var(--neutral-900);
}

.tree-note {
  margin: 0;
  color: var(--neutral-600);
  font-size: 14px;
}

.chipbar {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.public-wrap .progress {
  margin-top: 12px;
}

.public-wrap .progress > div {
  background: linear-gradient(90deg, var(--brand-500), var(--brand-600));
}

.public-wrap .tree-hint,
.public-wrap .finish-note {
  margin-top: 6px;
  font-size: 14px;
}

.public-wrap .tree {
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.public-wrap .finish-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.public-wrap .finish-meta {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  font-size: 14px;
  color: var(--neutral-600);
}

.public-wrap .finish-guard {
  font-size: 13px;
}

.public-wrap .finish-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 16px;
}

.public-wrap .finish-form textarea {
  min-height: 100px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.8);
  font-family: inherit;
}

.public-wrap .finish-actions {
  display: flex;
  justify-content: flex-end;
}

.public-wrap .finish-actions .btn[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
}

.public-wrap .identity-row {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.public-wrap .identity-row input {
  flex: 1 1 200px;
  min-width: 200px;
  padding: 10px 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.8);
}

.name-modal .modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 16px;
}

.alert {
  padding: 12px 14px;
  border-radius: var(--radius-md);
  font-weight: 600;
}

.alert.success {
  border: 1px solid rgba(15, 157, 88, 0.32);
  background: rgba(15, 157, 88, 0.12);
  color: var(--success-500);
}

.alert.error {
  border: 1px solid rgba(217, 48, 37, 0.32);
  background: rgba(217, 48, 37, 0.12);
  color: var(--danger-500);
}

.hidden {
  display: none !important;
}

.name-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(9, 12, 20, 0.75);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 100;
}

.name-modal-backdrop.visible {
  display: flex;
}

.name-modal {
  background: var(--bg-surface);
  border-radius: var(--radius-lg);
  padding: 26px;
  width: min(420px, 100%);
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: var(--shadow-md);
}

.name-modal h2 {
  margin: 0;
  font-size: 22px;
  font-weight: 800;
  color: var(--neutral-900);
}

.name-modal p {
  margin: 0;
  font-size: 14px;
  color: var(--neutral-600);
}

.name-modal .identity-row input {
  background: #fff;
}

/* Public event */
.public-event-body {
  display: block;
  min-height: 100vh;
  background: var(--bg-page);
  color: var(--neutral-800);
}

.public-event-body .page {
  width: min(960px, 100%);
  margin: 0 auto;
  padding: clamp(24px, 6vw, 40px) clamp(16px, 5vw, 36px) 48px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.public-event-body .card,
.public-event-body .card-like {
  background: var(--bg-surface);
  border-radius: var(--radius-xl);
  border: 1px solid rgba(205, 215, 235, 0.7);
  box-shadow: var(--shadow-md);
}

.public-event-body .hero {
  position: relative;
  display: grid;
  gap: clamp(20px, 4vw, 32px);
  padding: clamp(24px, 5vw, 40px);
  background: linear-gradient(135deg, rgba(61, 108, 255, 0.12), rgba(61, 108, 255, 0.02));
  border: 1px solid rgba(61, 108, 255, 0.24);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
}

.public-event-body .hero-title {
  margin: 0;
  font-size: clamp(28px, 6vw, 38px);
  font-weight: 800;
  color: var(--neutral-900);
}

.public-event-body .hero-eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.32em;
  font-size: 12px;
  color: rgba(61, 108, 255, 0.75);
  font-weight: 700;
}

.public-event-body .hero-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  margin-top: 10px;
}

.public-event-body .meta-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(61, 108, 255, 0.1);
  border: 1px solid rgba(61, 108, 255, 0.2);
  font-weight: 600;
  color: var(--neutral-700);
}

.public-event-body .status-pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(205, 215, 235, 0.8);
  font-weight: 700;
  font-size: 14px;
}

.public-event-body .status-pill[data-state="open"] {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.public-event-body .status-pill[data-state="closed"] {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.public-event-body .hero-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.public-event-body .hero-form label {
  font-size: 14px;
  font-weight: 600;
  color: var(--neutral-600);
}

.public-event-body .name-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.public-event-body .name-row input {
  flex: 1 1 220px;
  min-width: 200px;
  padding: 12px 14px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.8);
  font-weight: 600;
}

.public-event-body .hero-hint {
  font-size: 13px;
  color: var(--neutral-500);
}

.public-event-body .alert {
  border: 1px solid rgba(217, 48, 37, 0.26);
  background: rgba(217, 48, 37, 0.08);
  color: var(--danger-500);
  border-radius: var(--radius-md);
  padding: 14px;
  font-weight: 600;
}

.public-event-body .card-like,
.public-event-body .card {
  padding: clamp(20px, 4vw, 30px);
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.public-event-body .stats-chipbar {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.public-event-body .chip.ok {
  background: rgba(15, 157, 88, 0.12);
  border-color: rgba(15, 157, 88, 0.3);
  color: var(--success-500);
}

.public-event-body .chip.bad {
  background: rgba(217, 48, 37, 0.12);
  border-color: rgba(217, 48, 37, 0.3);
  color: var(--danger-500);
}

.public-event-body .chip.wait {
  background: rgba(59, 130, 246, 0.12);
  border-color: rgba(59, 130, 246, 0.26);
  color: #1d4ed8;
}

.public-event-body .progress {
  height: 12px;
  border-radius: 999px;
  background: rgba(205, 215, 235, 0.6);
  overflow: hidden;
}

.public-event-body .progress > div {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, var(--brand-500), var(--brand-600));
  transition: width 0.2s ease;
}

.public-event-body .parents-bar {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.public-event-body .legend {
  font-size: 14px;
  color: var(--neutral-600);
}

.public-event-body #tree {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.public-event-body .node {
  border-radius: var(--radius-lg);
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: #fff;
  padding: clamp(18px, 4vw, 24px);
  box-shadow: var(--shadow-sm);
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.public-event-body .node.state-ok {
  border-color: rgba(15, 157, 88, 0.3);
  background: rgba(15, 157, 88, 0.08);
}

.public-event-body .node.state-bad {
  border-color: rgba(217, 48, 37, 0.3);
  background: rgba(217, 48, 37, 0.08);
}

.public-event-body .node.state-wait {
  border-color: rgba(59, 130, 246, 0.26);
  background: rgba(59, 130, 246, 0.08);
}

.public-event-body .header {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.public-event-body .header .left {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

.public-event-body .header .name {
  font-weight: 700;
  color: var(--neutral-800);
}

.public-event-body .childs {
  display: flex;
  flex-direction: column;
  gap: 14px;
  padding-left: clamp(12px, 3vw, 18px);
}

.public-event-body .item {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(205, 215, 235, 0.8);
  background: var(--bg-surface);
}

.public-event-body .item .left {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
  font-weight: 700;
}

.public-event-body .item .right {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.public-event-body .item .btn {
  min-width: 120px;
}

.public-event-body .reassort-chip {
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(251, 188, 4, 0.2);
  color: #8a5600;
  font-size: 12px;
  font-weight: 700;
}

.public-event-body .modal textarea {
  min-height: 110px;
}

.public-event-body .modal .exp-list,
.public-event-body .modal .reassort-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.public-event-body .modal .exp-option,
.public-event-body .modal .reassort-option {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  padding: 12px;
  border-radius: var(--radius-sm);
  border: 1px solid rgba(205, 215, 235, 0.7);
  background: var(--bg-subtle);
}

.public-event-body .modal .reassort-section {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background: rgba(219, 234, 254, 0.6);
  border: 1px dashed rgba(59, 130, 246, 0.32);
  padding: 12px;
  border-radius: var(--radius-sm);
}

.public-event-body .modal .reassort-confirm {
  display: flex;
  justify-content: flex-end;
}

.public-event-body .title {
  font-weight: 700;
  color: var(--neutral-800);
}

.public-event-body .title--small {
  margin-bottom: 10px;
}

@media (min-width: 780px) {
  .public-event-body .hero {
    grid-template-columns: minmax(0, 1.35fr) minmax(0, 1fr);
    align-items: center;
  }

  .public-event-body .header {
    flex-direction: row;
    justify-content: space-between;
    align-items: flex-start;
  }

  .public-event-body .item {
    flex-direction: row;
    justify-content: space-between;
    align-items: flex-start;
  }

  .public-event-body .item .right {
    justify-content: flex-end;
  }
}

@media (max-width: 560px) {
  .public-event-body .page {
    padding: 20px 16px 40px;
  }

  .public-event-body .hero,
  .public-event-body .card,
  .public-event-body .card-like {
    border-radius: var(--radius-lg);
    padding: 22px;
  }

  .public-event-body .name-row {
    flex-direction: column;
  }

  .public-event-body .name-row .btn,
  .public-event-body .item .btn {
    width: 100%;
  }
}

@media (min-width: 960px) {
  .app-sidebar {
    transform: translateX(0);
    position: sticky;
    top: 0;
    height: 100vh;
  }

  .app-sidebar__close {
    display: none !important;
  }

  .app-main {
    margin-left: 280px;
  }

  .sidebar-backdrop {
    display: none;
  }

  .topbar__toggle {
    display: none;
  }
}

@media (max-width: 959px) {
  .app-sidebar__close {
    display: inline-flex;
  }

  .topbar {
    padding: 16px 18px;
  }

  .page {
    padding: 24px 18px 48px;
  }
}

@media (max-width: 560px) {
  .hero {
    border-radius: var(--radius-lg);
    padding: 24px;
  }

  .section {
    padding: 22px;
  }

  .auth__card {
    padding: 26px;
  }

  .auth__actions {
    flex-direction: column;
    align-items: stretch;
  }

  .auth__actions .btn {
    width: 100%;
  }
}
