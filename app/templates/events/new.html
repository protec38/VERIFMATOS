{% extends 'base.html' %}
{% block title %}Créer un événement • MediCheck{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-6"><i class="fa-solid fa-plus"></i> Créer un événement</h1>

<form method="post" class="bg-white rounded-2xl shadow p-4 space-y-4">
  <div class="grid md:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm text-slate-600 mb-1">Titre</label>
      <input name="title" class="w-full rounded-xl border-slate-300" required>
    </div>
    <div>
      <label class="block text-sm text-slate-600 mb-1">Lieu</label>
      <input name="location" class="w-full rounded-xl border-slate-300">
    </div>
    <div>
      <label class="block text-sm text-slate-600 mb-1">Date/Heure</label>
      <input type="datetime-local" name="date" class="w-full rounded-xl border-slate-300">
    </div>
  </div>

  <div class="border-t pt-4">
    <div class="mb-2 font-medium">Sélectionne les <u>objets parents</u> à inclure (les feuilles sous-jacentes seront ajoutées automatiquement) :</div>
    <div class="grid md:grid-cols-2 gap-3 max-h-80 overflow-auto">
      {% for p in parents %}
        <label class="flex items-center gap-3 p-3 border rounded-xl hover:bg-slate-50">
          <input type="checkbox" name="parent_ids" value="{{ p.id }}">
          <span><i class="fa-solid {{ p.icon or 'fa-box' }}"></i> {{ p.name }}</span>
        </label>
      {% endfor %}
    </div>
  </div>

  <div class="flex justify-end gap-3">
    <a href="{{ url_for('events.list_events') }}" class="px-4 py-2 rounded-xl border">Annuler</a>
    <button class="px-4 py-2 rounded-xl bg-slate-900 text-white hover:bg-black">Créer</button>
  </div>
</form>
{% endblock %}
